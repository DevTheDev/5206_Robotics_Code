#pragma config(Hubs,  S1, HTMotor,  HTMotor,  HTMotor,  HTServo)
#pragma config(Sensor, S1,     ,               sensorI2CMuxController)
#pragma config(Sensor, S4,     IR,             sensorI2CCustom)
#pragma config(Motor,  mtr_S1_C1_1,     driveR,        tmotorTetrix, openLoop, driveRight, encoder)
#pragma config(Motor,  mtr_S1_C1_2,     driveL,        tmotorTetrix, openLoop, driveLeft, encoder)
#pragma config(Motor,  mtr_S1_C2_1,     launcher,      tmotorTetrix, openLoop, reversed)
#pragma config(Motor,  mtr_S1_C2_2,     intake,        tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C3_1,     liftR,         tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C3_2,     liftL,         tmotorTetrix, openLoop)
#pragma config(Servo,  srvo_S1_C4_1,    goal,                 tServoNone)
#pragma config(Servo,  srvo_S1_C4_2,    servo2,               tServoNone)
#pragma config(Servo,  srvo_S1_C4_3,    servo3,               tServoNone)
#pragma config(Servo,  srvo_S1_C4_4,    servo4,               tServoNone)
#pragma config(Servo,  srvo_S1_C4_5,    servo5,               tServoNone)
#pragma config(Servo,  srvo_S1_C4_6,    servo6,               tServoNone)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#include "menu.h";
#include "actions.h";

int intake_speed = 100;
int launcher_speed = 100;
bool goal_closed = 0;

task main()
{
	clearScreen();
	while(1){
		float dt = time1[T1]/1000.0;
		clearTimer(T1);
		if(doMenuItem("lift")){
			lift_position += 1*dt;//Bash
		}
		char blah[16];
		sprintf(blah, "intake %i", intake_speed);
		if(doMenuItem(blah)){
			motor[intake] = intake_speed;
		}
		else{
			motor[intake] = 0;
		}
		if(doMenuItem("inc intake") && time1[T2] >= 200){
			clearTimer(T2);
			intake_speed ++;
		}
		if(doMenuItem("dec intake") && time1[T2] >= 200){
			clearTimer(T2);
			-- intake_speed;
		}
		sprintf(blah, "launcher %i", launcher_speed);
		if(doMenuItem(blah)){
			motor[launcher] = launcher_speed;
		}
		else{
			motor[launcher] = 0;
		}
		if(doMenuItem("inc launcher") && time1[T2] >= 200){
			clearTimer(T2);
			launcher_speed ++;
		}
		if(doMenuItem("dec launcher") && time1[T2] >= 200){
			clearTimer(T2);
			-- launcher_speed;
		}
		{
			doToggleMenuItem("clos goal lock\0open goal lock", goal_closed);//it's spelled clos to match the # of characters in open and to fit on the screen
	    servo[goal] = 180 * goal_closed;
    }
    updateMenu();
		updateLift();
	}
}
