#pragma config(Hubs,  S1, HTMotor,  HTServo,  HTMotor,  none)
#pragma config(Sensor, S2,     PaddleEOPD,     sensorAnalogActive)
#pragma config(Sensor, S3,     AutoIR,         sensorI2CCustom)
#pragma config(Sensor, S4,     PaddleLIGHT,    sensorLightActive)
#pragma config(Motor,  mtr_S1_C1_1,     LiftFlagMtr,   tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C1_2,     PaddleMtr,     tmotorTetrix, openLoop, reversed)
#pragma config(Motor,  mtr_S1_C3_1,     RightDr,       tmotorTetrix, openLoop, encoder)
#pragma config(Motor,  mtr_S1_C3_2,     LeftDr,        tmotorTetrix, openLoop, reversed)
#pragma config(Servo,  srvo_S1_C2_1,    LeftIntake,           tServoContinuousRotation)
#pragma config(Servo,  srvo_S1_C2_2,    RightIntake,          tServoContinuousRotation)
#pragma config(Servo,  srvo_S1_C2_3,    servo3,               tServoNone)
#pragma config(Servo,  srvo_S1_C2_4,    servo4,               tServoNone)
#pragma config(Servo,  srvo_S1_C2_5,    servo5,               tServoNone)
#pragma config(Servo,  srvo_S1_C2_6,    servo6,               tServoNone)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#include "JoystickDriver.c"  //Include file to "handle" the Bluetooth messages.
#include "consts.c"

/*int leftarrow=2;
int rightarrow=1;
int orangebutton=3;
int graybutton=0;*/

//Motor motors[2] = {LiftFlagMtr, PaddleMtr};//data type of the motors?
//int speeds[2] = {80, 20};

task main()
{
	int toggle=0;

	eraseDisplay(); //Clear the NXT screen
  bDisplayDiagnostics = false; //Takes control away from FCS
  bNxtLCDStatusDisplay = false; //Takes control away from NXT firmware
  wait1Msec(100);

  while(true) {
  	if(toggle==0) {
  		nxtDisplayClearTextLine(1);
  		nxtDisplayCenteredTextLine(1, "Lift");
  	}
  	else {
  		nxtDisplayClearTextLine(1);
  		nxtDisplayCenteredTextLine(1, "Hopper");
  	}

  	if(nNxtButtonPressed==orangebutton) {
  		while(nNxtButtonPressed==orangebutton) {}
  		toggle=(toggle+1)%2;
  	}

		if(nNxtButtonPressed==leftarrow) {
	  	switch(toggle){
	  		case 0:
	  			motor[LiftFlagMtr]=-80;
	  			break;
	  		case 1:
	  			motor[PaddleMtr]=-20;
	  			break;
	  		default:
	  			break;
	  	}
	  	//motor[motors[toggle]] = speeds[toggle];
		}else if(nNxtButtonPressed==rightarrow) {
	  	switch(toggle){
	  		case 0:
	  			motor[LiftFlagMtr]=80;
	  			break;
	  		case 1:
	  			motor[PaddleMtr]=20;
	  			break;
	  		default:
	  			break;
	  	}
		}
		else {
	  	switch(toggle){
	  		case 0:
	  			motor[LiftFlagMtr]=0;
	  			break;
	  		case 1:
	  			motor[PaddleMtr]=0;
	  			break;
	  		default:
	  			break;
	  	}
		}
  }
}/*
  	if(toggle==0) {
	  	if(nNxtButtonPressed==rightarrow) {
  			motor[LiftFlagMtr]=-80;
  		}
  		else {
  			motor[LiftFlagMtr]=0;
  		}

  		if(nNxtButtonPressed==leftarrow) {
  			motor[PaddleMtr]=-20;
  		}
  		else {
	  		motor[PaddleMtr]=0;
  		}
  	}
  	else {
  		if(nNxtButtonPressed==rightarrow) {
  			motor[LiftFlagMtr]=100;
  		}
  		else {
  			motor[LiftFlagMtr]=0;
  		}

  		if(nNxtButtonPressed==leftarrow) {
  			motor[PaddleMtr]=20;
  		}
  		else {
	  		motor[PaddleMtr]=0;
  		}
  	}
	}
}*/