#pragma config(Hubs,  S1, HTMotor,  HTMotor,  HTMotor,  none)
#pragma config(Motor,  mtr_S1_C1_1,     lf,            tmotorTetrix, openLoop, reversed)
#pragma config(Motor,  mtr_S1_C1_2,     lb,            tmotorTetrix, openLoop, reversed)
#pragma config(Motor,  mtr_S1_C2_1,     rf,            tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C2_2,     rb,            tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C3_1,     intake,        tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C3_2,     launcher,      tmotorTetrix, openLoop)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#include "joystickdriver.c"

// Joystick buttons
#define btnX 1
#define btnA 2
#define btnB 3
#define btnY 4

#define btnLB 5
#define btnRB 6
#define btnLT 7
#define btnRT 8

// Controls
#if 1 // single joystick drive
#define left_drive_control (joystick.joy1_y1 - joystick.joy1_x1)*100/128
#define rght_drive_control (joystick.joy1_y1 + joystick.joy1_x1)*100/128
#else // dual joystick drive
#define left_drive_control joystick.joy1_y1*100/128
#define rght_drive_control joystick.joy1_y2*100/128
#endif
#define intake_control joy1Btn(btnX)*100
#define launcher_control joy1Btn(btnY)*100

task main()
{
	while(1){
		getJoystickSettings(joystick);

		motor[lf] = left_drive_control;
		motor[lb] = left_drive_control;
		motor[rf] = rght_drive_control;
		motor[rb] = rght_drive_control;

		motor[intake] = intake_control;
		motor[launcher] = launcher_control;
	}
}
